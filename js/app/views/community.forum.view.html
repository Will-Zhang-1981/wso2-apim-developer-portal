<div class="jumbotron title">
  <div class="container no-padding-left">
    <ol class="breadcrumb">
      <li><a href="#/" target="_self">Hem</a></li>
      <li><a href="#/community" target="_self">Community</a></li>
      <li><a href="#/community/category/{{vm.forum.categoryId}}" target="_self">{{vm.forum.categoryName}}</a></li>
      <li class="active">{{vm.forum.name}}</li>
    </ol>
    <h1>{{vm.forum.name}}</h1>
  </div>
</div>

<div class="container no-padding-top">
  <div class="row padding-bottom">
    <h2>{{vm.forum.description}}</h2>
  </div>
  <div class="row">
    <div class="col-md-4 cat-id-1" style="color: #fff; height: 200px">
      <h3 class="truncate">Hur lägger jag till fler poster?</h2>
      <p><strong>Technical Support Forum</strong></p>
      <p>5 dagar sedan</p>
      <span style="position: absolute;bottom: 5px;right: 10px;" data-toggle="tooltip" data-original-title="Populär"><i class="fa fa-line-chart"></i></span>
    </div>
    <div class="col-md-4">
      <div class="col-md-12 cat-id-2" style="color: #fff; height: 200px">
        <h3 class="truncate">Anvädnning av Reseplanerar API:et</h2>
        <p><strong>API Forum</strong></p>
        <p>2 dagar sedan</p>
        <span style="position: absolute;bottom: 0px;right: 10px;" data-toggle="tooltip" data-original-title="Senaste"><i class="fa fa-sort-asc"></i></span>
      </div>
    </div>
    <div class="col-md-4" style="padding-left: 0px">
      <div class="col-md-12 cat-id-3" style="color: #fff; height: 200px">
        <h3 class="truncate">Antal requests som jag får skicka?</h2>
        <p><strong>General Forum</strong></p>
        <p>7 timmar sedan</p>
        <span style="position: absolute;bottom: 5px;right: 10px;" data-toggle="tooltip" data-original-title="Obesvarad fråga"><i class="fa fa-question"></i></span>
      </div>
    </div>
  </div>

  <div class="row">
      <table class="table table-borderless">
        <thead class="table-header">
          <tr>
            <th colspan="3"><h1>Topics</h1></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="entries in vm.forum.topics | orderBy:'id'">
            <td style="width: 50px">
              <div class="area area-small">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x" style="color:#00AAEB"></i>
                    <i class="fa fa-user fa-stack-1x fa-inverse" style="color:#FFFFFF"></i>
                  </span>
              </div>
            </td>
            <td>
              <h2 style="margin-bottom: 0px"><a href="#/community/topic/{{entries.id}}">{{entries.subject}}</a></h2>
              <a href="signature" style="padding-right: 10px">{{entries.createdBy.signature}}</a>&bull;
              <span style="margin-left: 5px">{{entries.createDate | relativeDate}}</span>
            </td>
            <td class="text-center">
              <h2 style="margin-bottom: 0px">{{entries.numberOfPosts}}</h2>
              <p>Poster</p>
            </td>
            <td class="text-center">
              <h2 style="margin-bottom: 0px">{{entries.numberOfViews}}</h2>
              <p>Visningar</p>
            </td>
            <td class="text-center">
              <h2 style="margin-bottom: 0px" ng-class="entries.answeredByPostId ? 'answer' : 'not-answer'">{{entries.numberOfReplies}}</h2>
              <p>Svar</p>
            </td>
          </tr>
        </tbody>
      </table>
  </div>

  <div class="container" style="padding-bottom: 20px;">
          <h2>Skapa ny topic</h2>
    <div class="row well">
      <form name="addTopicForm" ng-submit="vm.addTopic()" role="form">
        <div class="form-group" ng-class="{ 'has-error': addTopicForm.topic.$dirty && addTopicForm.topic.$invalid,
  'has-success' : addTopicForm.answer.$valid}">
          <label for="name">Rubrik</label>
          <input type="text" name="name" id="name" class="form-control" ng-model="vm.form.topic.name" style="margin-bottom: 20px" required />
          <label for="subject">Fråga</label>
          <span style="float: right; font-size: 0.9em"><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheat Sheet</a></span>
          <textarea id="subject" type="text" class="form-control" ng-model="vm.form.topic.subject" style="height: 100px; margin-bottom: 20px" required></textarea>
          <label for="preview" ng-show="vm.form.topic.subject">Förhandsgranskning</label>
          <div btf-markdown="vm.form.topic.subject">
          </div>
        </div>

        <div class="form-actions noclick" style="float: right">
          <button type="submit" ng-disabled="addTopicForm.$invalid" class="btn btn-primary">Skicka</button>
          <span ng-click="vm.resetAddTopicForm();" class="btn btn-link">Ångra</span>
        </div>
      </form>
    </div>
  </div>

</div>
